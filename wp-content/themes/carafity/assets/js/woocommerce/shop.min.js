!function(t){"use strict";var o=t("body"),a=!1;function s(s,i=!1){a&&a.abort(),a=t.ajax({type:"GET",url:s,beforeSend:function(){var e=t("ul.carafity-products");i||e.addClass("preloader")},success:function(e){let o=t(e);i?t("#main ul.carafity-products").append(o.find("#main ul.carafity-products > li")):t("#main ul.carafity-products").replaceWith(o.find("#main ul.carafity-products")),t("#main .woocommerce-pagination-wrap").replaceWith(o.find("#main .woocommerce-pagination-wrap")),window.history.pushState(null,null,s),a=!1,t(document).trigger("carafity-products-loaded")}})}function e(){"function"==typeof t.fn.waypoint&&t(".products-load-more-btn.load-on-scroll").waypoint(function(){t(".products-load-more-btn.load-on-scroll").trigger("click")},{offset:"100%"})}o.on("change",".carafity-products-per-page #per_page",function(e){e.preventDefault(),s(this.value)}),o.on("click",".products-load-more-btn",function(e){e.preventDefault(),t(this).addClass("loading"),s(t(this).attr("href"),!0)}),t(document).ready(function(){var e;o.on("click",".widget.carafity-widget-woocommerce .widget-title",function(e){e.preventDefault();e=t(this).closest(".carafity-menu-filter");e.length?t(this).hasClass("toggled-on")?t(this).removeClass("toggled-on").siblings(".widget-content").stop().slideUp().closest(".widget").removeClass("active"):(e.find(".toggled-on").removeClass("toggled-on"),e.find(".widget-content").stop().slideUp(),e.find(".widget").removeClass("active"),t(this).addClass("toggled-on").siblings(".widget-content").stop().slideDown().closest(".widget").addClass("active")):t(this).toggleClass("toggled-on").siblings(".widget-content").stop().slideToggle().closest(".widget").toggleClass("active")}),(e=t(".widget_product_categories").find("ul")).length&&e.find("li").each(function(){var o=t(this),e=o.find("> a"),s=o.find("> ul.children");s.length&&(o.hasClass("closed")?(s.hide(),e.before('<i class="icon-plus"></i>')):(o.hasClass("opened")||o.addClass("opened"),e.before('<i class="icon-minus"></i>')),o.find("i").on("click",function(e){s.slideToggle("slow"),o.hasClass("closed")?(o.removeClass("closed").addClass("opened"),o.find(">i").removeClass("icon-plus").addClass("icon-minus")):(o.removeClass("opened").addClass("closed"),o.find(">i").removeClass("icon-minus").addClass("icon-plus")),e.stopImmediatePropagation()}),o.on("click",function(e){t(e.target).filter("a").length||(s.slideToggle("slow"),o.hasClass("closed")?(o.removeClass("closed").addClass("opened"),o.find("i").removeClass("icon-plus").addClass("icon-minus")):(o.removeClass("opened").addClass("closed"),o.find("i").removeClass("icon-minus").addClass("icon-plus")),e.stopImmediatePropagation())}))})}).on("carafity-products-loaded",function(){t(".products-load-more-btn").removeClass("loading"),e()}),e()}(jQuery);